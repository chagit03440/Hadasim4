@model Hadasim4_ex2.Models.Response

@{
    ViewData["Title"] = "ViewAllEmployees";
}

@if (Model == null || Model.ItsEmployees == null || Model.ItsEmployees.Count == 0)
{
    <p>No employees found.</p>
}
else
{
    <h1 style="padding: 20px;">List of all employees</h1>

    <div style="overflow-x: auto;">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Date of Birth</th>
                    <th scope="col">Telephone</th>
                    <th scope="col">Mobile Phone</th>
                    <th scope="col">Positive Result Date</th>
                    <th scope="col">Recovery Date</th>
                    <th scope="col">Employee Photo</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var employee in Model.ItsEmployees)
                {
                    <tr>
                        <td>@employee.Id</td>
                        <td>@employee.FirstName</td>
                        <td>@employee.LastName</td>
                        <td>@employee.Address</td>
                        <td>@employee.DateOfBirth.ToShortDateString()</td>
                        <td>@employee.Telephone</td>
                        <td>@employee.MobilePhone</td>
                        <td>@(employee.PositiveResultDate.HasValue ? employee.PositiveResultDate.Value.ToShortDateString() : "-")</td>
                        <td>@(employee.RecoveryDate.HasValue ? employee.RecoveryDate.Value.ToShortDateString() : "-")</td>
                        <td>
                            <img src="@employee.PhotoPath" class="employee-photo" style="width: 70px; height: 70px;" />
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
